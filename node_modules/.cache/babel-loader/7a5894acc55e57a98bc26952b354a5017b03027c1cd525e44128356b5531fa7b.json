{"ast":null,"code":"var _jsxFileName = \"D:\\\\origin tribe\\\\mern-ecommerce-master\\\\client\\\\src\\\\components\\\\Manager\\\\Support\\\\MessageList.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, memo } from 'react';\nimport { getMemoizedRandomColors } from '../../../utils';\nimport { formatTime } from '../../../utils/date';\nimport NotFound from '../../Common/NotFound';\nconst MessagesList = props => {\n  _s();\n  const {\n    user,\n    messages\n  } = props;\n  const messagesEndRef = useRef(null);\n  const msgsLength = messages.length;\n  const emptyMsgs = msgsLength > 0 ? false : true;\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [msgsLength]);\n  const renderMessages = () => messages.map(message => /*#__PURE__*/React.createElement(Message, {\n    key: message.id,\n    message: message,\n    isMe: message.from === user._id,\n    noHeader: message.noHeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }\n  }));\n  return /*#__PURE__*/React.createElement(React.Fragment, null, messages && !emptyMsgs ? /*#__PURE__*/React.createElement(\"div\", {\n    className: `m-list ${!emptyMsgs ? '' : 'empty'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, renderMessages(), /*#__PURE__*/React.createElement(\"div\", {\n    ref: messagesEndRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"my-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(NotFound, {\n    message: \"No messages found.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  })));\n};\n_s(MessagesList, \"0epSoi03NVSoD0I0FiLK4iVNXOA=\");\n_c = MessagesList;\nconst Message = /*#__PURE__*/memo(_c2 = props => {\n  const {\n    message,\n    isMe,\n    noHeader\n  } = props;\n  const getAvatar = m => {\n    const color = getMemoizedRandomColors(m.from);\n    if (m.user.name) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex flex-column justify-content-center align-items-center fw-normal text-white avatar \",\n        style: {\n          backgroundColor: color ? color : 'red'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 9\n        }\n      }, m.user.name.charAt(0));\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"m-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `d-flex ${isMe ? 'justify-content-end' : 'justify-content-start'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, !isMe && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mr-2 avatar-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, !noHeader && /*#__PURE__*/React.createElement(React.Fragment, null, \" \", getAvatar(message))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, isMe ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2 text-right text-black\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, formatTime(message.time)) : /*#__PURE__*/React.createElement(\"div\", {\n    className: `d-flex mb-2 text-right`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, !noHeader && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", {\n    className: `mb-0 fw-normal text-black`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 19\n    }\n  }, message.user.name), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ml-2 text-black\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 19\n    }\n  }, formatTime(message.time)))), /*#__PURE__*/React.createElement(\"p\", {\n    className: `${isMe ? 'me' : ''} m-box`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, message.value))));\n});\n_c3 = Message;\nexport default MessagesList;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"MessagesList\");\n$RefreshReg$(_c2, \"Message$memo\");\n$RefreshReg$(_c3, \"Message\");","map":{"version":3,"names":["React","useEffect","useRef","memo","getMemoizedRandomColors","formatTime","NotFound","MessagesList","props","_s","user","messages","messagesEndRef","msgsLength","length","emptyMsgs","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","renderMessages","map","message","createElement","Message","key","id","isMe","from","_id","noHeader","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Fragment","className","ref","_c","_c2","getAvatar","m","color","name","style","backgroundColor","charAt","time","value","_c3","$RefreshReg$"],"sources":["D:/origin tribe/mern-ecommerce-master/client/src/components/Manager/Support/MessageList.js"],"sourcesContent":["import React, { useEffect, useRef, memo } from 'react';\n\nimport { getMemoizedRandomColors } from '../../../utils';\nimport { formatTime } from '../../../utils/date';\nimport NotFound from '../../Common/NotFound';\n\nconst MessagesList = props => {\n  const { user, messages } = props;\n  const messagesEndRef = useRef(null);\n  const msgsLength = messages.length;\n  const emptyMsgs = msgsLength > 0 ? false : true;\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [msgsLength]);\n\n  const renderMessages = () =>\n    messages.map(message => (\n      <Message\n        key={message.id}\n        message={message}\n        isMe={message.from === user._id}\n        noHeader={message.noHeader}\n      />\n    ));\n\n  return (\n    <>\n      {messages && !emptyMsgs ? (\n        <div className={`m-list ${!emptyMsgs ? '' : 'empty'}`}>\n          {renderMessages()}\n          <div ref={messagesEndRef} />\n        </div>\n      ) : (\n        <div className='my-4'>\n          <NotFound message='No messages found.' />\n        </div>\n      )}\n    </>\n  );\n};\n\nconst Message = memo(props => {\n  const { message, isMe, noHeader } = props;\n\n  const getAvatar = m => {\n    const color = getMemoizedRandomColors(m.from);\n\n    if (m.user.name) {\n      return (\n        <div\n          className='d-flex flex-column justify-content-center align-items-center fw-normal text-white avatar '\n          style={{ backgroundColor: color ? color : 'red' }}\n        >\n          {m.user.name.charAt(0)}\n        </div>\n      );\n    }\n  };\n\n  return (\n    <div className='m-container'>\n      <div\n        className={`d-flex ${\n          isMe ? 'justify-content-end' : 'justify-content-start'\n        }`}\n      >\n        {!isMe && (\n          <div className='mr-2 avatar-box'>\n            {!noHeader && <> {getAvatar(message)}</>}\n          </div>\n        )}\n\n        <div>\n          {isMe ? (\n            <div className='mb-2 text-right text-black'>\n              {formatTime(message.time)}\n            </div>\n          ) : (\n            <div className={`d-flex mb-2 text-right`}>\n              {!noHeader && (\n                <>\n                  <p className={`mb-0 fw-normal text-black`}>\n                    {message.user.name}\n                  </p>\n                  <div className='ml-2 text-black'>\n                    {formatTime(message.time)}\n                  </div>\n                </>\n              )}\n            </div>\n          )}\n\n          <p className={`${isMe ? 'me' : ''} m-box`}>{message.value}</p>\n        </div>\n      </div>\n    </div>\n  );\n});\n\nexport default MessagesList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}