{"ast":null,"code":"/**\n *\n * error.js\n * This is a generic error handler, it receives the error returned from the server and present it on a pop up\n */\n\nimport { error } from 'react-notification-system-redux';\nimport { signOut } from '../containers/Login/actions';\nconst handleError = (err, dispatch, title = '') => {\n  const unsuccessfulOptions = {\n    title: `${title}`,\n    message: ``,\n    position: 'tr',\n    autoDismiss: 1\n  };\n  if (err.response) {\n    if (err.response.status === 400) {\n      unsuccessfulOptions.title = title ? title : 'Please Try Again!';\n      unsuccessfulOptions.message = err.response.data.error;\n      dispatch(error(unsuccessfulOptions));\n    } else if (err.response.status === 404) {\n      // unsuccessfulOptions.title =\n      //   err.response.data.message ||\n      //   'Your request could not be processed. Please try again.';\n      // dispatch(error(unsuccessfulOptions));\n    } else if (err.response.status === 401) {\n      unsuccessfulOptions.message = 'Unauthorized Access! Please login again';\n      dispatch(signOut());\n      dispatch(error(unsuccessfulOptions));\n    } else if (err.response.status === 403) {\n      unsuccessfulOptions.message = 'Forbidden! You are not allowed to access this resource.';\n      dispatch(error(unsuccessfulOptions));\n    }\n  } else if (err.message) {\n    unsuccessfulOptions.message = err.message;\n    dispatch(error(unsuccessfulOptions));\n  } else {\n    // fallback\n    unsuccessfulOptions.message = 'Your request could not be processed. Please try again.';\n  }\n};\nexport default handleError;","map":{"version":3,"names":["error","signOut","handleError","err","dispatch","title","unsuccessfulOptions","message","position","autoDismiss","response","status","data"],"sources":["D:/origin tribe/mern-ecommerce-master/client/src/utils/error.js"],"sourcesContent":["/**\n *\n * error.js\n * This is a generic error handler, it receives the error returned from the server and present it on a pop up\n */\n\nimport { error } from 'react-notification-system-redux';\n\nimport { signOut } from '../containers/Login/actions';\n\nconst handleError = (err, dispatch, title = '') => {\n  const unsuccessfulOptions = {\n    title: `${title}`,\n    message: ``,\n    position: 'tr',\n    autoDismiss: 1\n  };\n\n  if (err.response) {\n    if (err.response.status === 400) {\n      unsuccessfulOptions.title = title ? title : 'Please Try Again!';\n      unsuccessfulOptions.message = err.response.data.error;\n      dispatch(error(unsuccessfulOptions));\n    } else if (err.response.status === 404) {\n      // unsuccessfulOptions.title =\n      //   err.response.data.message ||\n      //   'Your request could not be processed. Please try again.';\n      // dispatch(error(unsuccessfulOptions));\n    } else if (err.response.status === 401) {\n      unsuccessfulOptions.message = 'Unauthorized Access! Please login again';\n      dispatch(signOut());\n      dispatch(error(unsuccessfulOptions));\n    } else if (err.response.status === 403) {\n      unsuccessfulOptions.message =\n        'Forbidden! You are not allowed to access this resource.';\n      dispatch(error(unsuccessfulOptions));\n    }\n  } else if (err.message) {\n    unsuccessfulOptions.message = err.message;\n    dispatch(error(unsuccessfulOptions));\n  } else {\n    // fallback\n    unsuccessfulOptions.message =\n      'Your request could not be processed. Please try again.';\n  }\n};\n\nexport default handleError;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA,SAASA,KAAK,QAAQ,iCAAiC;AAEvD,SAASC,OAAO,QAAQ,6BAA6B;AAErD,MAAMC,WAAW,GAAGA,CAACC,GAAG,EAAEC,QAAQ,EAAEC,KAAK,GAAG,EAAE,KAAK;EACjD,MAAMC,mBAAmB,GAAG;IAC1BD,KAAK,EAAG,GAAEA,KAAM,EAAC;IACjBE,OAAO,EAAG,EAAC;IACXC,QAAQ,EAAE,IAAI;IACdC,WAAW,EAAE;EACf,CAAC;EAED,IAAIN,GAAG,CAACO,QAAQ,EAAE;IAChB,IAAIP,GAAG,CAACO,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;MAC/BL,mBAAmB,CAACD,KAAK,GAAGA,KAAK,GAAGA,KAAK,GAAG,mBAAmB;MAC/DC,mBAAmB,CAACC,OAAO,GAAGJ,GAAG,CAACO,QAAQ,CAACE,IAAI,CAACZ,KAAK;MACrDI,QAAQ,CAACJ,KAAK,CAACM,mBAAmB,CAAC,CAAC;IACtC,CAAC,MAAM,IAAIH,GAAG,CAACO,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;MACtC;MACA;MACA;MACA;IAAA,CACD,MAAM,IAAIR,GAAG,CAACO,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;MACtCL,mBAAmB,CAACC,OAAO,GAAG,yCAAyC;MACvEH,QAAQ,CAACH,OAAO,CAAC,CAAC,CAAC;MACnBG,QAAQ,CAACJ,KAAK,CAACM,mBAAmB,CAAC,CAAC;IACtC,CAAC,MAAM,IAAIH,GAAG,CAACO,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;MACtCL,mBAAmB,CAACC,OAAO,GACzB,yDAAyD;MAC3DH,QAAQ,CAACJ,KAAK,CAACM,mBAAmB,CAAC,CAAC;IACtC;EACF,CAAC,MAAM,IAAIH,GAAG,CAACI,OAAO,EAAE;IACtBD,mBAAmB,CAACC,OAAO,GAAGJ,GAAG,CAACI,OAAO;IACzCH,QAAQ,CAACJ,KAAK,CAACM,mBAAmB,CAAC,CAAC;EACtC,CAAC,MAAM;IACL;IACAA,mBAAmB,CAACC,OAAO,GACzB,wDAAwD;EAC5D;AACF,CAAC;AAED,eAAeL,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}