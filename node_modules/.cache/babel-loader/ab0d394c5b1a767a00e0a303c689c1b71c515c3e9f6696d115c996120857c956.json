{"ast":null,"code":"var _jsxFileName = \"D:\\\\origin tribe\\\\mern-ecommerce-master\\\\client\\\\src\\\\contexts\\\\Socket\\\\provider.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport io from 'socket.io-client';\nimport SocketContext from './context';\nimport { SOCKET_URL } from '../../constants';\nconst SocketProvider = ({\n  children\n}) => {\n  _s();\n  const [socket, setSocket] = useState(null);\n  const connect = () => {\n    const token = localStorage.getItem('token');\n    const sk = io(SOCKET_URL, {\n      autoConnect: false\n    });\n    if (token) {\n      sk.auth = {\n        token\n      };\n      sk.connect();\n      sk.auth;\n      setSocket(sk);\n    }\n  };\n  const disconnect = () => {\n    if (socket) {\n      socket.close();\n    }\n  };\n  return /*#__PURE__*/React.createElement(SocketContext.Provider, {\n    value: {\n      socket,\n      connect,\n      disconnect\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, children);\n};\n_s(SocketProvider, \"GY8WktZ0YaqicUgAE/T9NI/Ilj4=\");\n_c = SocketProvider;\nexport default SocketProvider;\nvar _c;\n$RefreshReg$(_c, \"SocketProvider\");","map":{"version":3,"names":["React","useState","io","SocketContext","SOCKET_URL","SocketProvider","children","_s","socket","setSocket","connect","token","localStorage","getItem","sk","autoConnect","auth","disconnect","close","createElement","Provider","value","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/origin tribe/mern-ecommerce-master/client/src/contexts/Socket/provider.js"],"sourcesContent":["import React, { useState } from 'react';\n\nimport io from 'socket.io-client';\n\nimport SocketContext from './context';\nimport { SOCKET_URL } from '../../constants';\n\nconst SocketProvider = ({ children }) => {\n  const [socket, setSocket] = useState(null);\n\n  const connect = () => {\n    const token = localStorage.getItem('token');\n    const sk = io(SOCKET_URL, {\n      autoConnect: false\n    });\n\n    if (token) {\n      sk.auth = { token };\n      sk.connect();\n      sk.auth;\n      setSocket(sk);\n    }\n  };\n\n  const disconnect = () => {\n    if (socket) {\n      socket.close();\n    }\n  };\n\n  return (\n    <SocketContext.Provider value={{ socket, connect, disconnect }}>\n      {children}\n    </SocketContext.Provider>\n  );\n};\n\nexport default SocketProvider;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAEvC,OAAOC,EAAE,MAAM,kBAAkB;AAEjC,OAAOC,aAAa,MAAM,WAAW;AACrC,SAASC,UAAU,QAAQ,iBAAiB;AAE5C,MAAMC,cAAc,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACvC,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EAE1C,MAAMS,OAAO,GAAGA,CAAA,KAAM;IACpB,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,MAAMC,EAAE,GAAGZ,EAAE,CAACE,UAAU,EAAE;MACxBW,WAAW,EAAE;IACf,CAAC,CAAC;IAEF,IAAIJ,KAAK,EAAE;MACTG,EAAE,CAACE,IAAI,GAAG;QAAEL;MAAM,CAAC;MACnBG,EAAE,CAACJ,OAAO,CAAC,CAAC;MACZI,EAAE,CAACE,IAAI;MACPP,SAAS,CAACK,EAAE,CAAC;IACf;EACF,CAAC;EAED,MAAMG,UAAU,GAAGA,CAAA,KAAM;IACvB,IAAIT,MAAM,EAAE;MACVA,MAAM,CAACU,KAAK,CAAC,CAAC;IAChB;EACF,CAAC;EAED,oBACElB,KAAA,CAAAmB,aAAA,CAAChB,aAAa,CAACiB,QAAQ;IAACC,KAAK,EAAE;MAAEb,MAAM;MAAEE,OAAO;MAAEO;IAAW,CAAE;IAAAK,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAC5DrB,QACqB,CAAC;AAE7B,CAAC;AAACC,EAAA,CA5BIF,cAAc;AAAAuB,EAAA,GAAdvB,cAAc;AA8BpB,eAAeA,cAAc;AAAC,IAAAuB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}