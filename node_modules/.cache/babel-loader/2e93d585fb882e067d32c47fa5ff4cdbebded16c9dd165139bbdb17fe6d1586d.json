{"ast":null,"code":"var _jsxFileName = \"D:\\\\origin tribe\\\\mern-ecommerce-master\\\\client\\\\src\\\\containers\\\\Order\\\\Customer.js\";\n/*\n *\n * Customer\n *\n */\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport actions from '../../actions';\nimport { ROLES } from '../../constants';\nimport SubPage from '../../components/Manager/SubPage';\nimport OrderList from '../../components/Manager/OrderList';\nimport OrderSearch from '../../components/Manager/OrderSearch';\nimport SearchResultMeta from '../../components/Manager/SearchResultMeta';\nimport NotFound from '../../components/Common/NotFound';\nimport LoadingIndicator from '../../components/Common/LoadingIndicator';\nimport Pagination from '../../components/Common/Pagination';\nclass Customer extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.handleOrderSearch = e => {\n      if (e.value.length >= 2) {\n        this.props.searchOrders({\n          name: 'order',\n          value: e.value\n        });\n        this.setState({\n          search: e.value\n        });\n      } else {\n        this.setState({\n          search: ''\n        });\n      }\n    };\n    this.handleOnPagination = (n, v) => {\n      this.props.fetchOrders(v);\n    };\n    this.state = {\n      search: ''\n    };\n  }\n  componentDidMount() {\n    this.props.fetchOrders();\n  }\n  render() {\n    const {\n      history,\n      user,\n      orders,\n      isLoading,\n      searchedOrders,\n      advancedFilters,\n      searchOrders\n    } = this.props;\n    const {\n      search\n    } = this.state;\n    const isSearch = search.length > 0;\n    const filteredOrders = search ? searchedOrders : orders;\n    const displayPagination = advancedFilters.totalPages > 1;\n    const displayOrders = filteredOrders && filteredOrders.length > 0;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"order-dashboard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(SubPage, {\n      title: \"Customer Orders\",\n      actionTitle: \"My Orders\",\n      handleAction: () => user.role === ROLES.Admin && history.push('/dashboard/orders'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(OrderSearch, {\n      onSearch: this.handleOrderSearch,\n      onSearchSubmit: searchOrders,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    }), isLoading && /*#__PURE__*/React.createElement(LoadingIndicator, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 25\n      }\n    }), displayOrders && /*#__PURE__*/React.createElement(React.Fragment, null, !isSearch && displayPagination && /*#__PURE__*/React.createElement(Pagination, {\n      totalPages: advancedFilters.totalPages,\n      onPagination: this.handleOnPagination,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(SearchResultMeta, {\n      label: \"orders\",\n      count: isSearch ? filteredOrders.length : advancedFilters.count,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(OrderList, {\n      orders: filteredOrders,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 15\n      }\n    })), !isLoading && !displayOrders && /*#__PURE__*/React.createElement(NotFound, {\n      message: \"No orders found.\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    })));\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    user: state.account.user,\n    orders: state.order.orders,\n    searchedOrders: state.order.searchedOrders,\n    isLoading: state.order.isLoading,\n    advancedFilters: state.order.advancedFilters,\n    isOrderAddOpen: state.order.isOrderAddOpen\n  };\n};\nexport default connect(mapStateToProps, actions)(Customer);","map":{"version":3,"names":["React","connect","actions","ROLES","SubPage","OrderList","OrderSearch","SearchResultMeta","NotFound","LoadingIndicator","Pagination","Customer","PureComponent","constructor","props","handleOrderSearch","e","value","length","searchOrders","name","setState","search","handleOnPagination","n","v","fetchOrders","state","componentDidMount","render","history","user","orders","isLoading","searchedOrders","advancedFilters","isSearch","filteredOrders","displayPagination","totalPages","displayOrders","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","title","actionTitle","handleAction","role","Admin","push","onSearch","onSearchSubmit","Fragment","onPagination","label","count","message","mapStateToProps","account","order","isOrderAddOpen"],"sources":["D:/origin tribe/mern-ecommerce-master/client/src/containers/Order/Customer.js"],"sourcesContent":["/*\n *\n * Customer\n *\n */\n\nimport React from 'react';\n\nimport { connect } from 'react-redux';\n\nimport actions from '../../actions';\nimport { ROLES } from '../../constants';\nimport SubPage from '../../components/Manager/SubPage';\nimport OrderList from '../../components/Manager/OrderList';\nimport OrderSearch from '../../components/Manager/OrderSearch';\nimport SearchResultMeta from '../../components/Manager/SearchResultMeta';\nimport NotFound from '../../components/Common/NotFound';\nimport LoadingIndicator from '../../components/Common/LoadingIndicator';\nimport Pagination from '../../components/Common/Pagination';\n\nclass Customer extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      search: ''\n    };\n  }\n\n  componentDidMount() {\n    this.props.fetchOrders();\n  }\n\n  handleOrderSearch = e => {\n    if (e.value.length >= 2) {\n      this.props.searchOrders({ name: 'order', value: e.value });\n      this.setState({\n        search: e.value\n      });\n    } else {\n      this.setState({\n        search: ''\n      });\n    }\n  };\n\n  handleOnPagination = (n, v) => {\n    this.props.fetchOrders(v);\n  };\n\n  render() {\n    const {\n      history,\n      user,\n      orders,\n      isLoading,\n      searchedOrders,\n      advancedFilters,\n      searchOrders\n    } = this.props;\n    const { search } = this.state;\n    const isSearch = search.length > 0;\n    const filteredOrders = search ? searchedOrders : orders;\n    const displayPagination = advancedFilters.totalPages > 1;\n    const displayOrders = filteredOrders && filteredOrders.length > 0;\n\n    return (\n      <div className='order-dashboard'>\n        <SubPage\n          title='Customer Orders'\n          actionTitle='My Orders'\n          handleAction={() =>\n            user.role === ROLES.Admin && history.push('/dashboard/orders')\n          }\n        >\n          <OrderSearch\n            onSearch={this.handleOrderSearch}\n            onSearchSubmit={searchOrders}\n          />\n          {isLoading && <LoadingIndicator />}\n          {displayOrders && (\n            <>\n              {!isSearch && displayPagination && (\n                <Pagination\n                  totalPages={advancedFilters.totalPages}\n                  onPagination={this.handleOnPagination}\n                />\n              )}\n\n              <SearchResultMeta\n                label='orders'\n                count={isSearch ? filteredOrders.length : advancedFilters.count}\n              />\n              <OrderList orders={filteredOrders} />\n            </>\n          )}\n          {!isLoading && !displayOrders && (\n            <NotFound message='No orders found.' />\n          )}\n        </SubPage>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.account.user,\n    orders: state.order.orders,\n    searchedOrders: state.order.searchedOrders,\n    isLoading: state.order.isLoading,\n    advancedFilters: state.order.advancedFilters,\n    isOrderAddOpen: state.order.isOrderAddOpen\n  };\n};\n\nexport default connect(mapStateToProps, actions)(Customer);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}