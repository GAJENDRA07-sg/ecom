{"ast":null,"code":"/*\n *\n * Review reducer\n *\n */\n\nimport { FETCH_REVIEWS, ADD_REVIEW, REMOVE_REVIEW, FETCH_PRODUCT_REVIEWS, REVIEW_CHANGE, SET_REVIEWS_LOADING, RESET_REVIEW, SET_REVIEW_FORM_ERRORS, SET_ADVANCED_FILTERS } from './constants';\nconst initialState = {\n  reviews: [],\n  isLoading: false,\n  advancedFilters: {\n    totalPages: 1,\n    currentPage: 1,\n    count: 0\n  },\n  productReviews: [],\n  reviewsSummary: {\n    ratingSummary: [],\n    totalRatings: 0,\n    totalReviews: 0,\n    totalSummary: 0\n  },\n  reviewFormData: {\n    title: '',\n    review: '',\n    rating: 0,\n    isRecommended: {\n      value: 1,\n      label: 'Yes'\n    }\n  },\n  reviewFormErrors: {}\n};\nconst reviewReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_REVIEWS:\n      return {\n        ...state,\n        reviews: action.payload\n      };\n    case SET_ADVANCED_FILTERS:\n      return {\n        ...state,\n        advancedFilters: {\n          ...state.advancedFilters,\n          ...action.payload\n        }\n      };\n    case FETCH_PRODUCT_REVIEWS:\n      return {\n        ...state,\n        productReviews: action.payload.reviews,\n        reviewsSummary: action.payload.reviewsSummary\n      };\n    case ADD_REVIEW:\n      return {\n        ...state,\n        productReviews: [...state.productReviews, action.payload]\n      };\n    case REMOVE_REVIEW:\n      const index = state.reviews.findIndex(r => r._id === action.payload);\n      return {\n        ...state,\n        reviews: [...state.reviews.slice(0, index), ...state.reviews.slice(index + 1)]\n      };\n    case REVIEW_CHANGE:\n      return {\n        ...state,\n        reviewFormData: {\n          ...state.reviewFormData,\n          ...action.payload\n        }\n      };\n    case SET_REVIEWS_LOADING:\n      return {\n        ...state,\n        isLoading: action.payload\n      };\n    case RESET_REVIEW:\n      return {\n        ...state,\n        reviewFormData: {\n          title: '',\n          review: '',\n          rating: 0,\n          isRecommended: {\n            value: 1,\n            label: 'Yes'\n          }\n        },\n        reviewFormErrors: {}\n      };\n    case SET_REVIEW_FORM_ERRORS:\n      return {\n        ...state,\n        reviewFormErrors: action.payload\n      };\n    default:\n      return state;\n  }\n};\nexport default reviewReducer;","map":{"version":3,"names":["FETCH_REVIEWS","ADD_REVIEW","REMOVE_REVIEW","FETCH_PRODUCT_REVIEWS","REVIEW_CHANGE","SET_REVIEWS_LOADING","RESET_REVIEW","SET_REVIEW_FORM_ERRORS","SET_ADVANCED_FILTERS","initialState","reviews","isLoading","advancedFilters","totalPages","currentPage","count","productReviews","reviewsSummary","ratingSummary","totalRatings","totalReviews","totalSummary","reviewFormData","title","review","rating","isRecommended","value","label","reviewFormErrors","reviewReducer","state","action","type","payload","index","findIndex","r","_id","slice"],"sources":["D:/origin tribe/mern-ecommerce-master/client/src/containers/Review/reducer.js"],"sourcesContent":["/*\n *\n * Review reducer\n *\n */\n\nimport {\n  FETCH_REVIEWS,\n  ADD_REVIEW,\n  REMOVE_REVIEW,\n  FETCH_PRODUCT_REVIEWS,\n  REVIEW_CHANGE,\n  SET_REVIEWS_LOADING,\n  RESET_REVIEW,\n  SET_REVIEW_FORM_ERRORS,\n  SET_ADVANCED_FILTERS\n} from './constants';\n\nconst initialState = {\n  reviews: [],\n  isLoading: false,\n  advancedFilters: {\n    totalPages: 1,\n    currentPage: 1,\n    count: 0\n  },\n  productReviews: [],\n  reviewsSummary: {\n    ratingSummary: [],\n    totalRatings: 0,\n    totalReviews: 0,\n    totalSummary: 0\n  },\n  reviewFormData: {\n    title: '',\n    review: '',\n    rating: 0,\n    isRecommended: {\n      value: 1,\n      label: 'Yes'\n    }\n  },\n  reviewFormErrors: {}\n};\n\nconst reviewReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_REVIEWS:\n      return {\n        ...state,\n        reviews: action.payload\n      };\n    case SET_ADVANCED_FILTERS:\n      return {\n        ...state,\n        advancedFilters: {\n          ...state.advancedFilters,\n          ...action.payload\n        }\n      };\n    case FETCH_PRODUCT_REVIEWS:\n      return {\n        ...state,\n        productReviews: action.payload.reviews,\n        reviewsSummary: action.payload.reviewsSummary\n      };\n    case ADD_REVIEW:\n      return {\n        ...state,\n        productReviews: [...state.productReviews, action.payload]\n      };\n    case REMOVE_REVIEW:\n      const index = state.reviews.findIndex(r => r._id === action.payload);\n      return {\n        ...state,\n        reviews: [\n          ...state.reviews.slice(0, index),\n          ...state.reviews.slice(index + 1)\n        ]\n      };\n    case REVIEW_CHANGE:\n      return {\n        ...state,\n        reviewFormData: {\n          ...state.reviewFormData,\n          ...action.payload\n        }\n      };\n    case SET_REVIEWS_LOADING:\n      return {\n        ...state,\n        isLoading: action.payload\n      };\n    case RESET_REVIEW:\n      return {\n        ...state,\n        reviewFormData: {\n          title: '',\n          review: '',\n          rating: 0,\n          isRecommended: {\n            value: 1,\n            label: 'Yes'\n          }\n        },\n        reviewFormErrors: {}\n      };\n    case SET_REVIEW_FORM_ERRORS:\n      return {\n        ...state,\n        reviewFormErrors: action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reviewReducer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}