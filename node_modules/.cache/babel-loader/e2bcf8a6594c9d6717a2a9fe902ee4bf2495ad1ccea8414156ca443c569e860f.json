{"ast":null,"code":"/*\n *\n * Users actions\n *\n */\n\nimport axios from 'axios';\nimport { FETCH_USERS, FETCH_SEARCHED_USERS, SET_ADVANCED_FILTERS, SET_USERS_LOADING } from './constants';\nimport handleError from '../../utils/error';\nimport { API_URL } from '../../constants';\nexport const setUserLoading = value => {\n  return {\n    type: SET_USERS_LOADING,\n    payload: value\n  };\n};\nexport const fetchUsers = page => {\n  return async (dispatch, getState) => {\n    try {\n      dispatch(setUserLoading(true));\n      const response = await axios.get(`${API_URL}/user`, {\n        params: {\n          page: page !== null && page !== void 0 ? page : 1,\n          limit: 20\n        }\n      });\n      const {\n        users,\n        totalPages,\n        currentPage,\n        count\n      } = response.data;\n      dispatch({\n        type: FETCH_USERS,\n        payload: users\n      });\n      dispatch({\n        type: SET_ADVANCED_FILTERS,\n        payload: {\n          totalPages,\n          currentPage,\n          count\n        }\n      });\n    } catch (error) {\n      handleError(error, dispatch);\n    } finally {\n      dispatch(setUserLoading(false));\n    }\n  };\n};\nexport const searchUsers = filter => {\n  return async (dispatch, getState) => {\n    try {\n      dispatch(setUserLoading(true));\n      const response = await axios.get(`${API_URL}/user/search`, {\n        params: {\n          search: filter.value\n        }\n      });\n      dispatch({\n        type: FETCH_SEARCHED_USERS,\n        payload: response.data.users\n      });\n    } catch (error) {\n      handleError(error, dispatch);\n    } finally {\n      dispatch(setUserLoading(false));\n    }\n  };\n};","map":{"version":3,"names":["axios","FETCH_USERS","FETCH_SEARCHED_USERS","SET_ADVANCED_FILTERS","SET_USERS_LOADING","handleError","API_URL","setUserLoading","value","type","payload","fetchUsers","page","dispatch","getState","response","get","params","limit","users","totalPages","currentPage","count","data","error","searchUsers","filter","search"],"sources":["D:/origin tribe/mern-ecommerce-master/client/src/containers/Users/actions.js"],"sourcesContent":["/*\n *\n * Users actions\n *\n */\n\nimport axios from 'axios';\n\nimport {\n  FETCH_USERS,\n  FETCH_SEARCHED_USERS,\n  SET_ADVANCED_FILTERS,\n  SET_USERS_LOADING\n} from './constants';\n\nimport handleError from '../../utils/error';\nimport { API_URL } from '../../constants';\n\nexport const setUserLoading = value => {\n  return {\n    type: SET_USERS_LOADING,\n    payload: value\n  };\n};\n\nexport const fetchUsers = page => {\n  return async (dispatch, getState) => {\n    try {\n      dispatch(setUserLoading(true));\n      const response = await axios.get(`${API_URL}/user`, {\n        params: {\n          page: page ?? 1,\n          limit: 20\n        }\n      });\n\n      const { users, totalPages, currentPage, count } = response.data;\n\n      dispatch({\n        type: FETCH_USERS,\n        payload: users\n      });\n      dispatch({\n        type: SET_ADVANCED_FILTERS,\n        payload: { totalPages, currentPage, count }\n      });\n    } catch (error) {\n      handleError(error, dispatch);\n    } finally {\n      dispatch(setUserLoading(false));\n    }\n  };\n};\n\nexport const searchUsers = filter => {\n  return async (dispatch, getState) => {\n    try {\n      dispatch(setUserLoading(true));\n\n      const response = await axios.get(`${API_URL}/user/search`, {\n        params: {\n          search: filter.value\n        }\n      });\n\n      dispatch({ type: FETCH_SEARCHED_USERS, payload: response.data.users });\n    } catch (error) {\n      handleError(error, dispatch);\n    } finally {\n      dispatch(setUserLoading(false));\n    }\n  };\n};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SACEC,WAAW,EACXC,oBAAoB,EACpBC,oBAAoB,EACpBC,iBAAiB,QACZ,aAAa;AAEpB,OAAOC,WAAW,MAAM,mBAAmB;AAC3C,SAASC,OAAO,QAAQ,iBAAiB;AAEzC,OAAO,MAAMC,cAAc,GAAGC,KAAK,IAAI;EACrC,OAAO;IACLC,IAAI,EAAEL,iBAAiB;IACvBM,OAAO,EAAEF;EACX,CAAC;AACH,CAAC;AAED,OAAO,MAAMG,UAAU,GAAGC,IAAI,IAAI;EAChC,OAAO,OAAOC,QAAQ,EAAEC,QAAQ,KAAK;IACnC,IAAI;MACFD,QAAQ,CAACN,cAAc,CAAC,IAAI,CAAC,CAAC;MAC9B,MAAMQ,QAAQ,GAAG,MAAMf,KAAK,CAACgB,GAAG,CAAE,GAAEV,OAAQ,OAAM,EAAE;QAClDW,MAAM,EAAE;UACNL,IAAI,EAAEA,IAAI,aAAJA,IAAI,cAAJA,IAAI,GAAI,CAAC;UACfM,KAAK,EAAE;QACT;MACF,CAAC,CAAC;MAEF,MAAM;QAAEC,KAAK;QAAEC,UAAU;QAAEC,WAAW;QAAEC;MAAM,CAAC,GAAGP,QAAQ,CAACQ,IAAI;MAE/DV,QAAQ,CAAC;QACPJ,IAAI,EAAER,WAAW;QACjBS,OAAO,EAAES;MACX,CAAC,CAAC;MACFN,QAAQ,CAAC;QACPJ,IAAI,EAAEN,oBAAoB;QAC1BO,OAAO,EAAE;UAAEU,UAAU;UAAEC,WAAW;UAAEC;QAAM;MAC5C,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdnB,WAAW,CAACmB,KAAK,EAAEX,QAAQ,CAAC;IAC9B,CAAC,SAAS;MACRA,QAAQ,CAACN,cAAc,CAAC,KAAK,CAAC,CAAC;IACjC;EACF,CAAC;AACH,CAAC;AAED,OAAO,MAAMkB,WAAW,GAAGC,MAAM,IAAI;EACnC,OAAO,OAAOb,QAAQ,EAAEC,QAAQ,KAAK;IACnC,IAAI;MACFD,QAAQ,CAACN,cAAc,CAAC,IAAI,CAAC,CAAC;MAE9B,MAAMQ,QAAQ,GAAG,MAAMf,KAAK,CAACgB,GAAG,CAAE,GAAEV,OAAQ,cAAa,EAAE;QACzDW,MAAM,EAAE;UACNU,MAAM,EAAED,MAAM,CAAClB;QACjB;MACF,CAAC,CAAC;MAEFK,QAAQ,CAAC;QAAEJ,IAAI,EAAEP,oBAAoB;QAAEQ,OAAO,EAAEK,QAAQ,CAACQ,IAAI,CAACJ;MAAM,CAAC,CAAC;IACxE,CAAC,CAAC,OAAOK,KAAK,EAAE;MACdnB,WAAW,CAACmB,KAAK,EAAEX,QAAQ,CAAC;IAC9B,CAAC,SAAS;MACRA,QAAQ,CAACN,cAAc,CAAC,KAAK,CAAC,CAAC;IACjC;EACF,CAAC;AACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}